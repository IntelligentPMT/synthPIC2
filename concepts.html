
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Concepts &#8212; synthPIC2 0.5dev documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Developer Guides" href="dev_guides.html" />
    <link rel="prev" title="TEM: Agglomeration, Metaballs &amp; STL export" href="tuts/tut_at_agglom_tem.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="concepts">
<span id="sec-concept"></span><h1>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h1>
<p>As demonstrated in the <a class="reference internal" href="tutorials.html#sec-tutorial"><span class="std std-ref">Tutorials</span></a> section, you would mainly define the
synthetization directives in a recipe file called the <code class="docutils literal notranslate"><span class="pre">SynthRecipe</span></code>. In this section,
we will give an overview of the building blocks of the said recipe file. Subsequently,
we will also describe the plugin mechanism. Plugins are the chosen approach to enable
using self-defined <code class="docutils literal notranslate"><span class="pre">.blend</span></code>-files in the synthetization process.</p>
<div class="section" id="domain-knowledge">
<h2>Domain Knowledge<a class="headerlink" href="#domain-knowledge" title="Permalink to this headline">¶</a></h2>
<p>To use the <code class="docutils literal notranslate"><span class="pre">synthpic2</span></code> toolbox, you would have to provide a recipe containing the
specific components and commands for the toolbox to produce synthesized particle images.
This recipe is named as <code class="docutils literal notranslate"><span class="pre">SynthRecipe</span></code> and should be defined in the form of a
<code class="docutils literal notranslate"><span class="pre">.yaml</span></code>-file that resides inside a config-directory that can be reached from the
project directory. The recommended directory for the recipes is the <code class="docutils literal notranslate"><span class="pre">./recipes</span></code> folder
inside the project directory as stated in the <a class="reference internal" href="tutorials.html#sec-tutorial"><span class="std std-ref">Tutorials</span></a> section.</p>
<a class="reference external image-reference" href="_static/MBSE/SynthRecipe.png"><img alt="Building blocks of a ``SynthRecipe``." src="_images/SynthRecipe.png" /></a>
<p>As depicted in the <em>Block Definition Diagram (BDD)</em> above, a <code class="docutils literal notranslate"><span class="pre">SynthRecipe</span></code> is composed
of four building blocks, namely one <code class="docutils literal notranslate"><span class="pre">InitialRunState</span></code>, one <code class="docutils literal notranslate"><span class="pre">Blueprints</span></code>, one
<code class="docutils literal notranslate"><span class="pre">ProcessConditions</span></code>, and last but not least one <code class="docutils literal notranslate"><span class="pre">SynthChain</span></code>. This definition of a
<code class="docutils literal notranslate"><span class="pre">SynthRecipe</span></code> can be translated directly into the structure of the <code class="docutils literal notranslate"><span class="pre">recipe.yaml</span></code>
file.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">recipe.yaml</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">initial_runtime_state</span><span class="p">:</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;building blocks of InitialRunState&gt;</span>

<span class="nt">blueprints</span><span class="p">:</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;building blocks of Blueprints&gt;</span>

<span class="nt">process_conditions</span><span class="p">:</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;building blocks of ProcessConditions&gt;</span>

<span class="nt">synth_chain</span><span class="p">:</span>
    <span class="l l-Scalar l-Scalar-Plain">&lt;building blocks of SynthChain&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">InitialRunState</span></code> contains the initial conditions as the program starts. In the
following example, the variable <code class="docutils literal notranslate"><span class="pre">time</span></code> and <code class="docutils literal notranslate"><span class="pre">seed</span></code> are defined. The variable <code class="docutils literal notranslate"><span class="pre">time</span></code>
gives the possibility of running dynamic simulation in the future. <code class="docutils literal notranslate"><span class="pre">seed</span></code> is a number
used to initialize a pseudorandom number generator. With it, we are able to <em>manage</em> the
random states of the particles.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">recipe.yaml</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">initial_runtime_state</span><span class="p">:</span>
    <span class="nt">time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>
    <span class="nt">seed</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
</pre></div>
</td></tr></table></div>
</div>
<p>As of the rest of the building blocks, the <code class="docutils literal notranslate"><span class="pre">Blueprints</span></code> defines the characteristic of
the particles and the measurement technique as a single element. The
<code class="docutils literal notranslate"><span class="pre">ProcessConditions</span></code> assigns the attributes of the interactions between the particles
and the measurement technique. The <code class="docutils literal notranslate"><span class="pre">SynthRecipe</span></code> contains the steps required to set up
the particles to final image rendering. These building blocks will be described in more
details in the following subsections.</p>
<div class="section" id="blueprints">
<h3>Blueprints<a class="headerlink" href="#blueprints" title="Permalink to this headline">¶</a></h3>
<p>A synthesized particle image requires three physical entities at its most granular
level: a particle or a swarm of particles, a camera that captures the particle image,
and a medium where the particles and the camera are located. Each of these entities
possesses specific characteristics that directly influence the image, such as the form
of the particle, the surface texture of the particle, the refractive index of the
medium, <em>et cetera</em>. These attributes are defined in the <code class="docutils literal notranslate"><span class="pre">Blueprints</span></code>.</p>
<p>The following BDD shows the structure of the <code class="docutils literal notranslate"><span class="pre">Blueprints</span></code>.</p>
<a class="reference external image-reference" href="_static/MBSE/Blueprints.png"><img alt="Building blocks of a ``Blueprints``." src="_images/Blueprints.png" /></a>
<p>The <code class="docutils literal notranslate"><span class="pre">Blueprints</span></code> consists of <em>at least one</em> <code class="docutils literal notranslate"><span class="pre">MeasurementTechniqueBlueprint</span></code> and
<em>zero or more</em> <code class="docutils literal notranslate"><span class="pre">ParticleBlueprint</span></code>. Because one measurement technique is always
required to capture an image, the multiplicity of each blueprint makes sense. The
absence of particles simply means that the resulting image is devoid of particles.</p>
<p>Each of these blueprints is defined from <code class="docutils literal notranslate"><span class="pre">Prototypes</span></code>. We distinguish three prototypes
in our toolbox: <code class="docutils literal notranslate"><span class="pre">MeasurementTechniquePrototype</span></code>, <code class="docutils literal notranslate"><span class="pre">MaterialPrototype</span></code>, and
<code class="docutils literal notranslate"><span class="pre">GeometryPrototype</span></code>. The <code class="docutils literal notranslate"><span class="pre">CompositingPrototype</span></code> is a planned feature that might be
implemented in the future.</p>
<p>We provide several <code class="docutils literal notranslate"><span class="pre">Prototypes</span></code> inside the folder <code class="docutils literal notranslate"><span class="pre">./prototype_library</span></code>. Each of the
prototype resides in the corresponding subfolder (<code class="docutils literal notranslate"><span class="pre">./prototype_library/geometries</span></code>,
<code class="docutils literal notranslate"><span class="pre">./prototype_library/materials</span></code>, <code class="docutils literal notranslate"><span class="pre">./prototype_library/measurement_techniques</span></code>) and
defined as a pair of a <code class="docutils literal notranslate"><span class="pre">.blend</span></code>-file and a <code class="docutils literal notranslate"><span class="pre">.yaml</span></code>-file. The <code class="docutils literal notranslate"><span class="pre">.blend</span></code>-file
is the native file format from Blender and contains the 3D-information of each prototype.</p>
<p>Below is an example of <code class="docutils literal notranslate"><span class="pre">Blueprints</span></code> taken from <code class="docutils literal notranslate"><span class="pre">secondary_electron_microscopy.yaml</span></code>
recipe. In this example, one measurement technique blueprint with the name <code class="docutils literal notranslate"><span class="pre">SEM</span></code> and
one particle blueprint <code class="docutils literal notranslate"><span class="pre">Bead</span></code> are defined. The <code class="docutils literal notranslate"><span class="pre">SEM</span></code> blueprint is defined from the
<code class="docutils literal notranslate"><span class="pre">secondary_electron_microscope</span></code>
(<code class="docutils literal notranslate"><span class="pre">./prototype_library/measurement_techniques/secondary_electron_microscope.blend</span></code>) as
the measurement technique itself and <code class="docutils literal notranslate"><span class="pre">sem_patchy_silicone</span></code>
(<code class="docutils literal notranslate"><span class="pre">./prototype_library/materials/sem_patchy_silicone.blend</span></code>) as the material of the
continuous phase.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">secondary_electron_microscopy.yaml</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">blueprints</span><span class="p">:</span>
    <span class="nt">measurement_techniques</span><span class="p">:</span>
        <span class="nt">SEM</span><span class="p">:</span>
            <span class="nt">measurement_technique_prototype_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secondary_electron_microscope</span>
            <span class="nt">background_material_prototype_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sem_patchy_silicone</span>
    <span class="nt">particles</span><span class="p">:</span>
        <span class="nt">Bead</span><span class="p">:</span>
            <span class="nt">geometry_prototype_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sphere</span>
            <span class="nt">material_prototype_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sem_polystyrene</span>
            <span class="nt">parent</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MeasurementVolume</span>
            <span class="nt">number</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">600</span>
</pre></div>
</td></tr></table></div>
</div>
<p>Similarly, the <code class="docutils literal notranslate"><span class="pre">Bead</span></code> particle blueprint is defined from the <code class="docutils literal notranslate"><span class="pre">sphere</span></code> geometry
prototype and <code class="docutils literal notranslate"><span class="pre">sem_polystyrene</span></code> as its material. Additionally, the attributes
<code class="docutils literal notranslate"><span class="pre">parent</span></code> and <code class="docutils literal notranslate"><span class="pre">number</span></code> have to be set for each particle blueprint.</p>
</div>
<div class="section" id="process-conditions">
<h3>Process Conditions<a class="headerlink" href="#process-conditions" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="_static/MBSE/ProcessConditions.png"><img alt="Building blocks of a ``ProcessConditions``." src="_images/ProcessConditions.png" /></a>
<p>Under the <code class="docutils literal notranslate"><span class="pre">ProcessConditions</span></code>, we would define the <code class="docutils literal notranslate"><span class="pre">FeatureCriterion</span></code>, <code class="docutils literal notranslate"><span class="pre">Set</span></code>, and
<code class="docutils literal notranslate"><span class="pre">FeatureVariability</span></code>. A <code class="docutils literal notranslate"><span class="pre">FeatureCriterion</span></code> is a custom criterion to filter out the
elements inside the image. In the example below, the criterion <code class="docutils literal notranslate"><span class="pre">IsBead</span></code> filter out
blueprints with the name <code class="docutils literal notranslate"><span class="pre">Bead</span></code>. A <code class="docutils literal notranslate"><span class="pre">Set</span></code> represents a pool of elements with one or
more criteria. For example, the <code class="docutils literal notranslate"><span class="pre">Beads</span></code> set is a pool of particles that fulfills the
criteria <code class="docutils literal notranslate"><span class="pre">IsParticle</span></code> and <code class="docutils literal notranslate"><span class="pre">IsBead</span></code>. The <code class="docutils literal notranslate"><span class="pre">FeatureVariability</span></code> defines the
variability that can be applied to the specified set in the <code class="docutils literal notranslate"><span class="pre">SynthChain</span></code> afterwards.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">secondary_electron_microscopy.yaml</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">process_conditions</span><span class="p">:</span>
    <span class="nt">feature_criteria</span><span class="p">:</span>
        <span class="nt">IsBead</span><span class="p">:</span>
            <span class="nt">_target_</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$builtins.ContainsString</span>
            <span class="nt">feature_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">blueprint_name</span>
            <span class="nt">search_string</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Bead</span>
            <span class="nt">default_return_value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
    <span class="nt">sets</span><span class="p">:</span>
        <span class="nt">Beads</span><span class="p">:</span>
            <span class="nt">criterion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$IsParticle and $IsBead</span>
    <span class="nt">feature_variabilities</span><span class="p">:</span>
        <span class="nt">ParticleDimension</span><span class="p">:</span>
            <span class="nt">feature_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dimensions</span>
            <span class="nt">variability</span><span class="p">:</span>
                <span class="nt">_target_</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$builtins.UniformDistribution3dHomogeneous</span>
                <span class="nt">location</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
                <span class="nt">scale</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
        <span class="nt">ParticleSubdivisions</span><span class="p">:</span>
            <span class="nt">feature_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">subdivisions</span>
            <span class="nt">variability</span><span class="p">:</span>
                <span class="nt">_target_</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$builtins.Constant</span>
                <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
        <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</td></tr></table></div>
</div>
<p>Note that there are built-ins process conditions that can be called in the recipe
directly, such as the feature criterion <code class="docutils literal notranslate"><span class="pre">IsParticle</span></code> or the set <code class="docutils literal notranslate"><span class="pre">AllParticles</span></code>.
There are also built-ins feature variabilities used in the example above
(<code class="docutils literal notranslate"><span class="pre">builtins.UniformDistribution3dHomogeneous</span></code> or <code class="docutils literal notranslate"><span class="pre">builtins.Constant</span></code>). Please refer
to <a class="reference internal" href="references.html#sec-references"><span class="std std-ref">References</span></a> for the built-in components.</p>
<p>We also provide the possibility to write your own feature variabilities as python
classes as a plugin (see <a class="reference internal" href="#subsec-plugin"><span class="std std-ref">Plugin Mechanism</span></a> below).</p>
</div>
<div class="section" id="synth-chain">
<h3>Synth Chain<a class="headerlink" href="#synth-chain" title="Permalink to this headline">¶</a></h3>
<p>After the <code class="docutils literal notranslate"><span class="pre">Blueprints</span></code> and the <code class="docutils literal notranslate"><span class="pre">ProcessConditions</span></code> for the synthesizing process are
defined, the <code class="docutils literal notranslate"><span class="pre">SynthChain</span></code> would define the instructions for the toolbox to go from an
empty blender scene to a rendered image of particles. These instructions are generally
classified into <code class="docutils literal notranslate"><span class="pre">FeatureGenerationStep</span></code> and <code class="docutils literal notranslate"><span class="pre">RenderingStep</span></code>.</p>
<a class="reference external image-reference" href="_static/MBSE/SynthChain.png"><img alt="Building blocks of a ``SynthChain``." src="_images/SynthChain.png" /></a>
<p>The <code class="docutils literal notranslate"><span class="pre">FeatureGenerationStep</span></code> is in general an instruction that is applied on the
pre-defined <code class="docutils literal notranslate"><span class="pre">Set</span></code>. For example, the step <code class="docutils literal notranslate"><span class="pre">InvokeBlueprints</span></code> below adds the particles
in the set <code class="docutils literal notranslate"><span class="pre">AllParticleBlueprints</span></code> into the blender scene. The
<code class="docutils literal notranslate"><span class="pre">TriggerFeatureUpdate</span></code> applies the feature variability <code class="docutils literal notranslate"><span class="pre">ParticleDimension</span></code> to the
set <code class="docutils literal notranslate"><span class="pre">AllParticles</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">secondary_electron_microscopy.yaml</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">synth_chain</span><span class="p">:</span>
    <span class="nt">feature_generation_steps</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">_target_</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$builtins.InvokeBlueprints</span>
          <span class="nt">affected_set_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AllParticleBlueprints</span>
        <span class="p p-Indicator">-</span> <span class="nt">_target_</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$builtins.TriggerFeatureUpdate</span>
          <span class="nt">feature_variability_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ParticleDimension</span>
          <span class="nt">affected_set_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AllParticles</span>
</pre></div>
</td></tr></table></div>
</div>
<p>The second group of the <code class="docutils literal notranslate"><span class="pre">SynthChain</span></code>, the <code class="docutils literal notranslate"><span class="pre">RenderingStep</span></code>, contains the instructions
to render the current blender scene into an image. The step <code class="docutils literal notranslate"><span class="pre">RenderParticlesTogether</span></code>
in the example below would render all particles in the scene. You can also choose the
rendering mode and whether the features of the particles are to be written out (see
<a class="reference internal" href="references.html#sec-references"><span class="std std-ref">References</span></a> for further rendering modes). To render one particle per image,
you can use the step <code class="docutils literal notranslate"><span class="pre">RenderParticlesIndividually</span></code> instead.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">secondary_electron_microscopy.yaml</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">synth_chain</span><span class="p">:</span>
    <span class="nt">rendering_steps</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">_target_</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$builtins.RenderParticlesTogether</span>
          <span class="nt">rendering_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">real</span>
          <span class="nt">do_save_features</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
<div class="section" id="plugin-mechanism">
<span id="subsec-plugin"></span><h2>Plugin Mechanism<a class="headerlink" href="#plugin-mechanism" title="Permalink to this headline">¶</a></h2>
<p>The plugin mechanism is targeted towards advanced users and assumes a certain familiarity with Python, as well as synthPIC2.</p>
<p>Plugins can be used to extend synthPIC2 to provide custom</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">process_conditions.feature_criteria</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">process_conditions.variabilities</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">synth_chain.feature_generation_steps</span></code> or</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">synth_chain.rendering_steps</span></code>.</p></li>
</ul>
<p>Plugins are stored in Python files below the <code class="docutils literal notranslate"><span class="pre">plugin</span></code> folder. They are structured in packages that can hold multiple plugins each. The <code class="docutils literal notranslate"><span class="pre">official</span></code> package is an example package that comes with a few examples and can be used as template for your own plugins. The structure of each package has to mirror the structure of the <code class="docutils literal notranslate"><span class="pre">synthpic2.recipe</span></code> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="o">/</span>
  <span class="n">mypackagename</span><span class="o">/</span>
    <span class="n">process_conditions</span><span class="o">/</span>
      <span class="n">feature_criteria</span><span class="o">.</span><span class="n">py</span>
      <span class="n">variabilities</span><span class="o">.</span><span class="n">py</span>
    <span class="n">synth_chain</span><span class="o">/</span>
      <span class="n">feature_generation_steps</span><span class="o">.</span><span class="n">py</span>
      <span class="n">rendering_steps</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Inside each of the py-files, you can implement as many custom classes (i.e. plugins) as you like. It is advisable to base said classes on the base class of the corresponding <code class="docutils literal notranslate"><span class="pre">synthpic2.recipe</span></code> modules:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">synthpic2.recipe.process_conditions.feature_criteria.FeatureCriterion</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">synthpic2.recipe.process_conditions.variabilities.Variability</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">synthpic2.recipe.process_conditions.feature_generation_steps.FeatureGenerationStep</span></code> and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">synthpic2.recipe.process_conditions.rendering_steps.RenderingStep</span></code></p></li>
</ul>
<p>or any subclass of these. It is also necessary to decorate your class with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@attr</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="n">auto_attribs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Once you implemented a plugin <code class="docutils literal notranslate"><span class="pre">MyPlugin</span></code>, you can reference it in your recipes using the <code class="docutils literal notranslate"><span class="pre">$plugins.</span></code> directive, similar to <code class="docutils literal notranslate"><span class="pre">$builtins.</span></code> (see e.g. <a class="reference internal" href="tuts/tut_at_chocBeans_table.html#sec-tut-at-chocbeans-table"><span class="std std-ref">Chocolate Beans on Table</span></a>):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">process_conditions</span><span class="p">:</span>
  <span class="nt">feature_criteria</span><span class="p">:</span>
    <span class="nt">FancyFeature</span><span class="p">:</span>
      <span class="nt">feature_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">feature</span>
      <span class="nt">variability</span><span class="p">:</span>
<span class="hll">        <span class="nt">_target_</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$plugins.mypackagename.MyPlugin</span>
</span></pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">synthPIC2</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#domain-knowledge">Domain Knowledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plugin-mechanism">Plugin Mechanism</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev_guides.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tuts/tut_at_agglom_tem.html" title="previous chapter">TEM: Agglomeration, Metaballs &amp; STL export</a></li>
      <li>Next: <a href="dev_guides.html" title="next chapter">Developer Guides</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Max Frei, Robert Panckow, Felix Febrian, Xuebei Zhu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/concepts.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>